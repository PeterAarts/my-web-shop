{
  "openapi": "3.0.0",
  "info": {
    "title": "My Custom Shop API",
    "version": "1.0.0",
    "description": "API documentation for the webshop and admin panel."
  },
  "servers": [
    {
      "url": "/api",
      "description": "Local Server"
    }
  ],
  "tags": [
    { "name": "Authentication", "description": "User registration, login, and session management" },
    { "name": "Categories", "description": "Manage product categories" },
    { "name": "Dashboard", "description": "Endpoints for admin dashboard statistics" },
    { "name": "Email Templates", "description": "Manage admin-editable email templates" },
    { "name": "Images", "description": "Manage uploaded images" },
    { "name": "Orders", "description": "Manage customer orders" },
    { "name": "Payment", "description": "Payment processing and options" },
    { "name": "Payment Providers", "description": "Manage payment provider settings" },
    { "name": "Products", "description": "Manage shop products" },
    { "name": "Settings", "description": "Manage global site settings" },
    { "name": "Shipping", "description": "Shipping rate calculation" },
    { "name": "Shipping Providers", "description": "Manage shipping provider settings" },
    { "name": "Stories", "description": "Manage story items" },
    { "name": "Users", "description": "Manage user accounts" }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Log in an admin or reviewer (uses username)",
        "requestBody": { "$ref": "#/components/requestBodies/AdminLogin" },
        "responses": {
          "200": { "$ref": "#/components/responses/AuthToken" },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "403": { "$ref": "#/components/responses/Forbidden" }
        }
      }
    },
    "/auth/shop-login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Log in a shop customer (uses email)",
        "requestBody": { "$ref": "#/components/requestBodies/CustomerLogin" },
        "responses": {
          "200": { "$ref": "#/components/responses/AuthToken" },
          "400": { "$ref": "#/components/responses/BadRequest" },
          "401": { "$ref": "#/components/responses/Unauthorized" }
        }
      }
    },
    "/auth/register": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Register a new customer for the shop",
        "requestBody": { "$ref": "#/components/requestBodies/UserRegistration" },
        "responses": {
          "201": { "$ref": "#/components/responses/SuccessMessage" }
        }
      }
    },
    "/auth/verify-email/{token}": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Verify a new user's email address",
        "parameters": [{ "name": "token", "in": "path", "required": true, "schema": { "type": "string" } }],
        "responses": {
          "200": { "$ref": "#/components/responses/SuccessMessage" },
          "400": { "$ref": "#/components/responses/BadRequest" }
        }
      }
    },
    "/auth/forgot-password": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Request a password reset link",
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "email": { "type": "string", "format": "email" } } } } }
        },
        "responses": {
          "200": { "$ref": "#/components/responses/SuccessMessage" }
        }
      }
    },
    "/auth/reset-password/{token}": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Reset a user's password using a token",
        "parameters": [{ "name": "token", "in": "path", "required": true, "schema": { "type": "string" } }],
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "password": { "type": "string", "format": "password" } } } } }
        },
        "responses": {
          "200": { "$ref": "#/components/responses/SuccessMessage" },
          "400": { "$ref": "#/components/responses/BadRequest" }
        }
      }
    },
    "/users": {
      "get": {
        "tags": ["Users"],
        "summary": "Get all users (Admin)",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "$ref": "#/components/responses/UserList" } }
      },
      "post": {
        "tags": ["Users"],
        "summary": "Create a new user (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewUserAdmin" },
        "responses": { "201": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/users/me": {
      "get": {
        "tags": ["Users"],
        "summary": "Get current logged-in user's profile",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "$ref": "#/components/responses/User" } }
      },
      "put": {
        "tags": ["Users"],
        "summary": "Update current logged-in user's profile",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/UpdateProfile" },
        "responses": { "200": { "$ref": "#/components/responses/User" } }
      },
      "delete": {
        "tags": ["Users"],
        "summary": "Delete current logged-in user's account",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/users/me/password": {
      "put": {
        "tags": ["Users"],
        "summary": "Change current logged-in user's password",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/ChangePassword" },
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/users/{id}": {
      "put": {
        "tags": ["Users"],
        "summary": "Update a user's role or password (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": { "$ref": "#/components/requestBodies/UpdateUserAdmin" },
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      },
      "delete": {
        "tags": ["Users"],
        "summary": "Delete a user (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/shipping/rates": {
      "post": {
        "tags": ["Shipping"],
        "summary": "Calculate shipping rates for a given cart and address",
        "requestBody": { "$ref": "#/components/requestBodies/CalculateRates" },
        "responses": {
          "200": {
            "description": "A list of available shipping rates.",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ShippingRatesResponse" } } }
          }
        }
      }
    },
    "/payment/options": {
      "get": {
        "tags": ["Payment"],
        "summary": "Get all enabled payment options for checkout",
        "responses": {
          "200": {
            "description": "A list of available payment options.",
            "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/PaymentOption" } } } }
          }
        }
      }
    },
    "/payment/initiate": {
      "post": {
        "tags": ["Payment"],
        "summary": "Initiate a payment process",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/InitiatePayment" },
        "responses": {
          "200": { "description": "Payment initiated successfully. Response varies by provider." }
        }
      }
    },
    "/payment/capture": {
      "post": {
        "tags": ["Payment"],
        "summary": "Capture a payment after online approval (e.g., PayPal)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/CapturePayment" },
        "responses": {
          "200": { "description": "Payment captured and order created successfully." }
        }
      }
    },
    "/payment-providers": {
      "get": {
        "tags": ["Payment Providers"],
        "summary": "Get all payment providers (Admin)",
        "security": [{ "bearerAuth": [] }],
        "responses": {
          "200": {
            "description": "A list of payment providers.",
            "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/PaymentProvider" } } } }
          }
        }
      }
    },
    "/payment-providers/{id}": {
      "put": {
        "tags": ["Payment Providers"],
        "summary": "Update a payment provider's details (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": { "$ref": "#/components/requestBodies/UpdatePaymentProvider" },
        "responses": {
          "200": { "description": "The updated payment provider.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/PaymentProvider" } } } },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/shipping-providers": {
      "get": {
        "tags": ["Shipping Providers"],
        "summary": "Get all shipping providers (Admin)",
        "security": [{ "bearerAuth": [] }],
        "responses": {
          "200": {
            "description": "A list of shipping providers.",
            "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/ShippingProvider" } } } }
          }
        }
      },
      "post": {
        "tags": ["Shipping Providers"],
        "summary": "Create a new shipping provider (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewShippingProvider" },
        "responses": {
          "201": { "description": "The created shipping provider.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ShippingProvider" } } } }
        }
      }
    },
    "/shipping-providers/{id}": {
      "put": {
        "tags": ["Shipping Providers"],
        "summary": "Update a shipping provider's details (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": { "$ref": "#/components/requestBodies/UpdateShippingProvider" },
        "responses": {
          "200": { "description": "The updated shipping provider.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ShippingProvider" } } } },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/products": {
      "get": {
        "tags": ["Products"],
        "summary": "Get all public products (filtered by settings)",
        "responses": { "200": { "$ref": "#/components/responses/ProductList" } }
      },
      "post": {
        "tags": ["Products"],
        "summary": "Create a new product (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewProduct" },
        "responses": { "201": { "$ref": "#/components/responses/Product" } }
      }
    },
    "/products/{id}": {
      "get": {
        "tags": ["Products"],
        "summary": "Get a single product by ID",
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "responses": {
          "200": { "$ref": "#/components/responses/Product" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      },
      "put": {
        "tags": ["Products"],
        "summary": "Update a product (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": { "$ref": "#/components/requestBodies/NewProduct" },
        "responses": { "200": { "$ref": "#/components/responses/Product" } }
      },
      "delete": {
        "tags": ["Products"],
        "summary": "Delete a product (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/products/{id}/reserve": {
      "patch": {
        "tags": ["Products"],
        "summary": "Reserve stock for a product",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": { "$ref": "#/components/requestBodies/StockUpdate" },
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/products/{id}/release": {
      "patch": {
        "tags": ["Products"],
        "summary": "Release reserved stock for a product",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": { "$ref": "#/components/requestBodies/StockUpdate" },
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/orders": {
      "get": {
        "tags": ["Orders"],
        "summary": "Get all orders for admin (defaults to active)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          {
            "name": "active",
            "in": "query",
            "schema": { "type": "boolean" },
            "description": "Set to false to retrieve archived orders."
          }
        ],
        "responses": { "200": { "$ref": "#/components/responses/OrderList" } }
      },
      "post": {
        "tags": ["Orders"],
        "summary": "Create a new order",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewOrder" },
        "responses": { "201": { "$ref": "#/components/responses/Order" } }
      }
    },
    "/orders/my-orders": {
      "get": {
        "tags": ["Orders"],
        "summary": "Get all orders for the logged-in user",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "$ref": "#/components/responses/OrderList" } }
      }
    },
    "/orders/archive": {
      "post": {
        "tags": ["Orders"],
        "summary": "Run the auto-archive process for old orders (Admin)",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/orders/bulk-status": {
      "put": {
        "tags": ["Orders"],
        "summary": "Update the status of multiple orders (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/BulkStatusUpdate" },
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/orders/{id}": {
      "get": {
        "tags": ["Orders"],
        "summary": "Get a single order by ID",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "responses": {
          "200": { "$ref": "#/components/responses/Order" },
          "404": { "$ref": "#/components/responses/NotFound" }
        }
      }
    },
    "/orders/{id}/status": {
      "put": {
        "tags": ["Orders"],
        "summary": "Update an order's status",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": {
          "content": { "application/json": { "schema": { "type": "object", "properties": { "status": { "type": "string" } } } } }
        },
        "responses": { "200": { "$ref": "#/components/responses/Order" } }
      }
    },
    "/categories": {
      "get": {
        "tags": ["Categories"],
        "summary": "Get all categories",
        "responses": { "200": { "$ref": "#/components/responses/CategoryList" } }
      },
      "post": {
        "tags": ["Categories"],
        "summary": "Create a new category (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewCategory" },
        "responses": { "201": { "$ref": "#/components/responses/Category" } }
      }
    },
    "/categories/bulk": {
      "post": {
        "tags": ["Categories"],
        "summary": "Create multiple categories at once (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewCategoriesBulk" },
        "responses": {
          "201": { "description": "Bulk creation complete." }
        }
      }
    },
    "/categories/{id}": {
      "delete": {
        "tags": ["Categories"],
        "summary": "Delete a category (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/dashboard/stats": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get dashboard statistics",
        "security": [{ "bearerAuth": [] }],
        "responses": {
          "200": {
            "description": "An object containing various site statistics.",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/DashboardStats" } } }
          }
        }
      }
    },
    "/dashboard/activity": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get sales and order activity for the last 30 days",
        "security": [{ "bearerAuth": [] }],
        "responses": {
          "200": {
            "description": "An array of daily activity objects.",
            "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/DashboardActivity" } } } }
          }
        }
      }
    },
    "/dashboard/recent-orders": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get the 10 most recent orders",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "$ref": "#/components/responses/OrderList" } }
      }
    },
    "/email-templates": {
      "get": {
        "tags": ["Email Templates"],
        "summary": "Get all email templates",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "$ref": "#/components/responses/EmailTemplateList" } }
      },
      "post": {
        "tags": ["Email Templates"],
        "summary": "Create a new email template",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewEmailTemplate" },
        "responses": { "201": { "$ref": "#/components/responses/EmailTemplate" } }
      }
    },
    "/images": {
      "get": {
        "tags": ["Images"],
        "summary": "Get all images",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "A list of image details" } }
      }
    },
    "/settings": {
      "get": {
        "tags": ["Settings"],
        "summary": "Get global site settings",
        "responses": { "200": { "$ref": "#/components/responses/Settings" } }
      },
      "put": {
        "tags": ["Settings"],
        "summary": "Update global site settings (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/Settings" },
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    },
    "/stories": {
      "get": {
        "tags": ["Stories"],
        "summary": "Get all story items",
        "responses": { "200": { "$ref": "#/components/responses/StoryItemList" } }
      },
      "post": {
        "tags": ["Stories"],
        "summary": "Create a new story item (Admin)",
        "security": [{ "bearerAuth": [] }],
        "requestBody": { "$ref": "#/components/requestBodies/NewStoryItem" },
        "responses": { "201": { "$ref": "#/components/responses/StoryItem" } }
      }
    },
    "/stories/{id}": {
      "put": {
        "tags": ["Stories"],
        "summary": "Update a story item (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "requestBody": { "$ref": "#/components/requestBodies/NewStoryItem" },
        "responses": { "200": { "$ref": "#/components/responses/StoryItem" } }
      },
      "delete": {
        "tags": ["Stories"],
        "summary": "Delete a story item (Admin)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [{ "$ref": "#/components/parameters/IdPath" }],
        "responses": { "200": { "$ref": "#/components/responses/SuccessMessage" } }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": { "type": "http", "scheme": "bearer", "bearerFormat": "JWT" }
    },
    "parameters": {
      "IdPath": { "name": "id", "in": "path", "required": true, "schema": { "type": "string" }, "description": "The unique identifier of the resource." }
    },
    "requestBodies": {
      "AdminLogin": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLoginCredentials" } } } },
      "CustomerLogin": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CustomerLoginCredentials" } } } },
      "UserRegistration": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserRegistration" } } } },
      "NewProduct": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Product" } } } },
      "NewOrder": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Order" } } } },
      "NewEmailTemplate": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/EmailTemplate" } } } },
      "Settings": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Settings" } } } },
      "InitiatePayment": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/InitiatePaymentBody" } } } },
      "CapturePayment": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CapturePaymentBody" } } } },
      "NewCategory": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/NewCategoryBody" } } } },
      "NewCategoriesBulk": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/NewCategoriesBulkBody" } } } },
      "BulkStatusUpdate": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/BulkStatusUpdateBody" } } } },
      "UpdatePaymentProvider": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdatePaymentProviderBody" } } } },
      "StockUpdate": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/StockUpdateBody" } } } },
      "NewShippingProvider": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/NewShippingProviderBody" } } } },
      "UpdateShippingProvider": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdateShippingProviderBody" } } } },
      "CalculateRates": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CalculateRatesBody" } } } },
      "NewStoryItem": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/StoryItem" } } } },
      "NewUserAdmin": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/NewUserAdminBody" } } } },
      "UpdateProfile": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdateProfileBody" } } } },
      "ChangePassword": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ChangePasswordBody" } } } },
      "UpdateUserAdmin": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdateUserAdminBody" } } } }
    },
    "responses": {
      "SuccessMessage": { "description": "Operation successful.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/SuccessMessage" } } } },
      "AuthToken": { "description": "Authentication successful.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AuthToken" } } } },
      "Product": { "description": "A single product object.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Product" } } } },
      "ProductList": { "description": "A list of product objects.", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Product" } } } } },
      "Order": { "description": "A single order object.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Order" } } } },
      "OrderList": { "description": "A list of order objects.", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Order" } } } } },
      "Category": { "description": "A single category object.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Category" } } } },
      "CategoryList": { "description": "A list of category objects.", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Category" } } } } },
      "EmailTemplate": { "description": "A single email template object.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/EmailTemplate" } } } },
      "EmailTemplateList": { "description": "A list of email template objects.", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/EmailTemplate" } } } } },
      "Settings": { "description": "The global settings object.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Settings" } } } },
      "StoryItem": { "description": "A single story item object.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/StoryItem" } } } },
      "StoryItemList": { "description": "A list of story item objects.", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/StoryItem" } } } } },
      "User": { "description": "A single user object.", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/User" } } } },
      "UserList": { "description": "A list of user objects.", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/User" } } } } },
      "BadRequest": { "description": "Bad request. The input data is invalid." },
      "Unauthorized": { "description": "Unauthorized. A valid token is required." },
      "Forbidden": { "description": "Forbidden. You do not have permission." },
      "NotFound": { "description": "The requested resource was not found." }
    },
    "schemas": {
      "User": { "type": "object", "properties": { "_id": { "type": "string" }, "username": { "type": "string" }, "email": { "type": "string", "format": "email" }, "role": { "type": "string", "enum": ["customer", "admin", "reviewer"] } } },
      "Product": { "type": "object", "properties": { "_id": { "type": "string" }, "name": { "type": "string" }, "description": { "type": "string" }, "price": { "type": "number" }, "stockQuantity": { "type": "integer" }, "category": { "type": "string" }, "tags": { "type": "array", "items": { "type": "string" } }, "images": { "type": "array", "items": { "type": "object" } }, "active": { "type": "boolean" }, "expiresAt": { "type": "string", "format": "date-time" } } },
      "Order": { "type": "object", "properties": { "_id": { "type": "string" }, "orderNumber": { "type": "string" }, "user": { "type": "string" }, "totalAmount": { "type": "number" }, "status": { "type": "string" } } },
      "Category": { "type": "object", "properties": { "_id": { "type": "string" }, "name": { "type": "string" } } },
      "EmailTemplate": { "type": "object", "properties": { "_id": { "type": "string" }, "name": { "type": "string" }, "slug": { "type": "string" } } },
      "Settings": { "type": "object", "properties": { "shopTitle": { "type": "string" } } },
      "StoryItem": {
        "type": "object",
        "properties": {
          "_id": { "type": "string" },
          "title": { "type": "string" },
          "content": { "type": "string" },
          "image": { "type": "object" },
          "displayLocations": { "type": "array", "items": { "type": "string" } },
          "startDate": { "type": "string", "format": "date-time" },
          "endDate": { "type": "string", "format": "date-time" }
        }
      },
      "AdminLoginCredentials": { "type": "object", "properties": { "username": { "type": "string" }, "password": { "type": "string", "format": "password" } } },
      "CustomerLoginCredentials": { "type": "object", "properties": { "email": { "type": "string", "format": "email" }, "password": { "type": "string", "format": "password" } } },
      "UserRegistration": { "type": "object", "properties": { "username": { "type": "string" }, "email": { "type": "string", "format": "email" }, "password": { "type": "string", "format": "password" }, "newsletterSubscribed": { "type": "boolean" } } },
      "AuthToken": { "type": "object", "properties": { "token": { "type": "string" }, "user": { "$ref": "#/components/schemas/User" } } },
      "SuccessMessage": { "type": "object", "properties": { "msg": { "type": "string" } } },
      "PaymentOption": {
        "type": "object",
        "properties": {
          "_id": { "type": "string" },
          "name": { "type": "string" },
          "moduleName": { "type": "string" },
          "isOnline": { "type": "boolean" }
        }
      },
      "PaymentProvider": {
        "type": "object",
        "properties": {
            "_id": { "type": "string" },
            "name": { "type": "string" },
            "isEnabled": { "type": "boolean" },
            "isOnline": { "type": "boolean" }
        }
      },
      "ShippingProvider": {
        "type": "object",
        "properties": {
            "_id": { "type": "string" },
            "name": { "type": "string" },
            "providerKey": { "type": "string" },
            "isEnabled": { "type": "boolean" }
        }
      },
      "ShippingRate": {
        "type": "object",
        "properties": {
          "serviceName": { "type": "string" },
          "price": { "type": "number" },
          "currency": { "type": "string" }
        }
      },
      "ShippingRatesResponse": {
        "type": "object",
        "properties": {
            "rates": { "type": "array", "items": { "$ref": "#/components/schemas/ShippingRate" } },
            "totalWeight": { "type": "number" }
        }
      },
      "InitiatePaymentBody": {
        "type": "object",
        "properties": {
          "paymentMethod": { "type": "string" },
          "orderDetails": { "$ref": "#/components/schemas/Order" }
        }
      },
      "CapturePaymentBody": {
        "type": "object",
        "properties": {
          "paymentMethod": { "type": "string" },
          "paymentDetails": { "type": "object" },
          "orderDetails": { "$ref": "#/components/schemas/Order" }
        }
      },
      "NewCategoryBody": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "description": { "type": "string" }
        }
      },
      "NewCategoriesBulkBody": {
        "type": "object",
        "properties": {
          "names": { "type": "array", "items": { "type": "string" } }
        }
      },
      "DashboardStats": {
        "type": "object",
        "properties": {
          "totalProducts": { "type": "integer" },
          "totalUsers": { "type": "integer" },
          "totalStories": { "type": "integer" },
          "newOrders": { "type": "integer" },
          "activeSessions": { "type": "integer" },
          "salesTotal": { "type": "number" }
        }
      },
      "DashboardActivity": {
        "type": "object",
        "properties": {
          "_id": { "type": "string", "description": "Date in YYYY-MM-DD format" },
          "ordersPerDay": { "type": "integer" },
          "productsSoldPerDay": { "type": "integer" }
        }
      },
      "BulkStatusUpdateBody": {
        "type": "object",
        "properties": {
          "orderIds": { "type": "array", "items": { "type": "string" } },
          "status": { "type": "string" }
        }
      },
      "UpdatePaymentProviderBody": {
        "type": "object",
        "properties": {
            "isEnabled": { "type": "boolean" },
            "mode": { "type": "string" },
            "credentials": { "type": "object" },
            "instructions": { "type": "string" }
        }
      },
      "StockUpdateBody": {
        "type": "object",
        "properties": {
          "quantity": { "type": "integer" }
        }
      },
      "NewShippingProviderBody": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "providerKey": { "type": "string" },
          "apiUrl": { "type": "string" },
          "isEnabled": { "type": "boolean" }
        }
      },
      "UpdateShippingProviderBody": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "isEnabled": { "type": "boolean" },
          "apiUrl": { "type": "string" },
          "credentials": { "type": "object" },
          "rateCard": { "type": "object" }
        }
      },
      "CalculateRatesBody": {
        "type": "object",
        "properties": {
          "address": { "type": "object" },
          "cartItems": { "type": "array", "items": { "type": "object" } }
        }
      },
      "NewUserAdminBody": {
        "type": "object",
        "properties": {
          "username": { "type": "string" },
          "email": { "type": "string", "format": "email" },
          "password": { "type": "string", "format": "password" },
          "role": { "type": "string", "enum": ["customer", "admin", "reviewer"] }
        }
      },
      "UpdateProfileBody": {
        "type": "object",
        "properties": {
          "username": { "type": "string" },
          "newsletterSubscribed": { "type": "boolean" },
          "shippingAddress": { "type": "object" }
        }
      },
      "ChangePasswordBody": {
        "type": "object",
        "properties": {
          "currentPassword": { "type": "string", "format": "password" },
          "newPassword": { "type": "string", "format": "password" }
        }
      },
      "UpdateUserAdminBody": {
        "type": "object",
        "properties": {
          "role": { "type": "string", "enum": ["customer", "admin", "reviewer"] },
          "newPassword": { "type": "string", "format": "password" }
        }
      }
    }
  }
}
